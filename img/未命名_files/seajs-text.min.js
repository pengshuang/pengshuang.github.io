function register(a){plugins[a.name]=a}function isPlugin(a){return a&&plugins.hasOwnProperty(a)}function getPluginName(a){var b,c;for(b in plugins)if(isPlugin(b)&&(c=","+plugins[b].ext.join(",")+",",c.indexOf(","+a+",")>-1))return b}function xhr(a,b){var c=global.XMLHttpRequest?new global.XMLHttpRequest:new global.ActiveXObject("Microsoft.XMLHTTP");return c.open("GET",a,!0),c.onreadystatechange=function(){if(4===c.readyState){if(c.status>399&&c.status